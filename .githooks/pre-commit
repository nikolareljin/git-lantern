#!/usr/bin/env bash
set -euo pipefail

ROOT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"

if [[ "${SKIP_LANTERN_PRECOMMIT:-}" == "1" ]]; then
  echo "Skipping git-lantern pre-commit checks (SKIP_LANTERN_PRECOMMIT=1)."
  exit 0
fi

if [[ "${LANTERN_PRECOMMIT_FAST:-}" == "1" ]]; then
  bash "$ROOT_DIR/scripts/lint.sh"
  exit 0
fi

bash "$ROOT_DIR/scripts/local_ci.sh"
